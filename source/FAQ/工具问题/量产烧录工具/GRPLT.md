## GRPLT常见问题


### 1. 晶体校准原理是什么？
- GU模块在测试开始时启动PWM，向DUT对应的IO口发送特定方波信号，DUT以此方波为基准进行校准。当前采用40 Hz方波，以64M运行速率计算一个周期内的计数，则期望的计数为：
  
$$
64M \times 1 \div 40 = 1.6M
$$

-   对应的卡控阈值算法为：

$$
N = X \div 1.6
$$

-   其中N为期望PPM，X为计数偏移（即工单设置中的ErrLimit）。当前工单的默认卡控阈值为60，PPM为37.5。原则上偏移值不应该超过80（即50 PPM）。当偏移较大时，蓝牙很容易断连。

### 2. RSSI测试方法是什么？

- GU模块在测试开始时会作为Slave广播数据（广播数据值为6字节的随机值，以便区分不同工位GU的广播信号），DUT会作为Master进行SCAN，获取RSSI值。（GR533x和GR5625均不支持RSSI，后续新型号均无支持计划。）

### 3. 新版在线工具（V1.5.0.0.4后）.bin文件放哪里？

- 新版工单生成器在打开.bin文件时会保存在内存，保存工单后将所有内容都保存于工单中，并对工单进行加密。

### 4. 什么时候需要二次开发？

- 需要与MES或类似系统对接
- 需要加载自定义的动态Flash数据
- 需要动态生成蓝牙地址
- 需要扫描SN码，并写入机器中
- 需要使用特定的界面

### 5. 自定义加密与Goodix加密有何不同？

- GOODIX加密为硬件加密，使用Goodix Bluetooth LE内部加密模块对Flash进行加密，并关闭SWD，此操作不可逆，应用固件也需要加密才能运行，是硬件的自动加密；自定义加密，为客户根据eFuse写入的信息，对某些Flash数据进行软件加密（如NVDS数据或Flash资源文件），若客户想不再使用加密，则重新烧录即可。

### 6. 具报0x1A不良（测试固件运行失败），可能是什么原因？
- 检查工单与模组是否匹配，不带外部32.768K晶体的DUT，不可使用带外部晶体的工单。
- SRAM有问题，可通过Dump Flash查看Flash数据是否与测试固件一致。
- 若为硬件加密环境，且DUT已经加密，则可能是DUT中的KEY INFO与测试固件的密钥不匹配，无法成功解密。

### 7. 在线工具报0xFC不良（测试固件下载失败），可能是什么原因？
- 检查PLT到DUT UART的杜邦线是否质量合格，太细的线容易受干扰。
- 治具存在干扰，可通过飞线进行排查。
- 使用的外挂Flash不适配，通过替换别品牌的Flash进行排除。
- PCBA走线存在干扰。
- PLT到DUT的UART连接线太长，当前PLT可稳定支持长度为1.5m，超过此长度通讯或受干扰。

### 8. 报0x10不良（晶体校准异常），可能是什么原因？
- 若大多数模组有此问题，则可能是选择的校准口不正确或者是校准脚有问题。校准脚问题可能是治具上有电容，或者是PCBA上有电容，导致PWM波型不准，校准不通过。
- 若个别模组有此问题，可能是阈值卡太严、晶振误差太大等。


### 9. 报0x12错误（烧录异常），可能是什么原因？
- 0x12是在烧录环节出现异常时均带有此错误码，具体需要看附带的错误码。
- 0x15或0x16：此为烧录资源或固件失败，查看CSV Log文件中的“LoadFW”列可知具体失败原因。若为“Error of Program Start”，多发生于中转外部Flash下载，配置的端口有问题；若为“Error of Program Data”，此为烧录Flash途中出错，可参考测试固件下载失败问题进行处理；若为“Error of Program End”，此为最后的校验出错，联系原厂人员进行查看。
- 没有其他附带的错误码：查看CSV Log中的“Fail Log”可知具体错误内容，目前多为“Product_info Error”，出现此错误说明eFuse中的校准值与蓝牙地址有问题，可使用GRPLT的eFuse界面读取完整的eFuse内容给原厂进行分析。

### 10. 启动GRPLT后，连接DUT时，点击“Start”无响应，可能是什么原因？
- DUT设计有问题，DC-DC电路设计不符合规范，导致DUT无法正常启动，无法识别。
- 治具针脚通讯不良，DUT无法正确返回命令，无法识别。

### 11. 打开GRPLT后，没有显示16个小窗口，可能是什么原因？
- PLT使用FTDI的USB转串口芯片，使用PLT前需要正确安装FTDI的[驱动](http://www.ftdichip.cn/Drivers/VCP.htm)。下载驱动完毕后，可通过Windows设备管理器的端口（COM和LPT）页面查看是否正确识别。安装成功时，列表中将出现17或18个COM口（USB Serial Port）。安装失败时，若全部识别不到，则重新安装驱动；若个别识别不到，则可右键点击COM口，手动更新驱动。